<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ template "title" . }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/htmx.org@2.0.4"
    integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+"
    crossorigin="anonymous"></script>
  <style>
    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    main {
      flex: 1;
    }

    .hero-section {
      position: relative;
    }

    .hero-section::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 50px;
      background: #2563eb;
      border-radius: 0 0 50% 50%;
      transform: translateY(75%);
    }
  </style>
</head>

<body class="bg-gray-100 text-gray-800">
  <!-- Navbar -->
  <header class="bg-blue-600 text-white sticky top-0">
    <div class="container mx-auto flex justify-between items-center px-6 py-4">
      <a href="/" class="hover:text-blue-300">
        <h1 class="text-2xl font-bold">Simple Bank</h1>
      </a>
      <nav>
        <ul class="flex space-x-6">
          <li>
            <a href="/dashboard" class="hover:text-blue-300">Dashboard</a>
          </li>
          <li><a href="/about" class="hover:text-blue-300">About</a></li>
          <li><a href="/" class="hover:text-blue-300">Home</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <main>{{ template "content" . }}</main>
  <!-- Footer -->
  <footer class="bg-blue-700 text-white py-6">
    <div class="container mx-auto text-center px-6">
      <p>&copy; 2025 Simple Bank. All rights reserved.</p>
    </div>
  </footer>
</body>

</html>

{{ define "login" }}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    let storage = localStorage.getItem("data");
    let data = null;

    try {
      data = storage ? JSON.parse(storage) : null;
    } catch (e) {
      console.error("Failed to parse data from localStorage", e);
      data = null;
    }

    if (!data || !data.userName || !data.password) {
      window.location.href = "/login";
    }
  });
</script>
{{ end }}
